spring.application.name=Eclipse Dirigible

spring.main.allow-bean-definition-overriding=true

server.error.include-message=always
server.port=8080

spring.servlet.multipart.enabled=true
spring.servlet.multipart.file-size-threshold=2KB
spring.servlet.multipart.max-file-size=1GB
spring.servlet.multipart.max-request-size=1GB
spring.servlet.multipart.location=${java.io.tmpdir}

spring.datasource.hikari.connectionTimeout=3600000
spring.mvc.async.request-timeout=3600000

basic.enabled=${DIRIGIBLE_BASIC_ENABLED:true}

keycloak.enabled=${DIRIGIBLE_KEYCLOAK_ENABLED:false}
keycloak.realm=${DIRIGIBLE_KEYCLOAK_REALM:null}
keycloak.auth-server-url=${DIRIGIBLE_KEYCLOAK_AUTH_SERVER_URL:null}
keycloak.ssl-required=${DIRIGIBLE_KEYCLOAK_SSL_REQUIRED:external}

keycloak.resource=${DIRIGIBLE_KEYCLOAK_CLIENT_ID:null}
keycloak.public-client=true
keycloak.principal-attribute=preferred_username
keycloak.confidential-port=${DIRIGIBLE_KEYCLOAK_CONFIDENTIAL_PORT:443}
keycloak.use-resource-role-mappings=true

oauth2.enabled=${DIRIGIBLE_OAUTH2_ENABLED:false}
spring.security.oauth2.client.registration.github.clientId=${GITHUB_CLIENT_ID}
spring.security.oauth2.client.registration.github.clientSecret=${GITHUB_CLIENT_SECRET}

terminal.enabled=${DIRIGIBLE_TERMINAL_ENABLED:false}

management.metrics.mongo.command.enabled=false
management.metrics.mongo.connectionpool.enabled=false

spring.devtools.restart.poll-interval=6s
spring.devtools.restart.quiet-period=5s

spring.boot.admin.context-path=spring-admin
spring.boot.admin.ui.title=${spring.application.name} Admin
spring.boot.admin.ui.brand=<img src="/services/web/resources/images/dirigible.svg"><span>Eclipse Dirigible Admin</span>

spring.boot.admin.client.url=http://localhost:${server.port}/spring-admin
spring.boot.admin.client.username=${DIRIGIBLE_SPRING_ADMIN_USERNAME:admin}
spring.boot.admin.client.password=${DIRIGIBLE_SPRING_ADMIN_PASSWORD:admin}
spring.boot.admin.client.instance.metadata.user.name=${spring.boot.admin.client.username}
spring.boot.admin.client.instance.metadata.user.password=${spring.boot.admin.client.password}

management.endpoints.web.exposure.include=*
management.endpoints.health.show-details=always
