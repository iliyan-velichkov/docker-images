<!DOCTYPE html>
<html lang="en" ng-app="deployer">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/png" sizes="16x16" brandicon=""
            href="/services/web/resources/images/favicon.png">
        <meta name="description" content="">
        <meta name="author" content="">

        <!-- Bootstrap Core CSS -->
        <link type="text/css" rel="stylesheet" href="/services/js/theme/resources.js/bootstrap.min.css">

        <!-- Font Awesome -->
        <link type="text/css" href="/webjars/fontawesome/css/font-awesome.min.css" rel="stylesheet">

    </head>

    <body ng-controller="DeployController">

        <div class="container well" style="width:50%">
            <div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-md-11">
                            <select class="form-control" ng-model="selectedDirigibleInstance"
                                ng-options="next as next.displayName for next in dirigibleInstances">
                                <option value='' selected disabled>--- Select Dirigible Instance ---</option>
                            </select>
                        </div>
                        <div class="col-md-1">
                            <button class="btn btn-default" ng-click="openAddInstanceDialog()"><i
                                    class="fa fa-plus"></i></button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" ng-hide="queryParamsProvided">
                <hr>
                <div class="col-md-6">
                    <h4>Module</h4>
                    <input type="text" class="form-control" placeholder="Repository" ng-model="queryParams.repository">
                    <br>
                    <input type="text" class="form-control" placeholder="URI" ng-model="queryParams.uri">
                </div>
            </div>
            <div class="row" ng-show="envParamsProvided">
                <hr>
                <div class="col-md-6">
                    <h4>Environment Variables</h4>
                    <div ng-repeat="next in env">
                        <input type="text" class="form-control" placeholder="{{next.key}}" ng-model="next.value">
                        <br>
                    </div>
                </div>
            </div>
            <hr>
            <div class="row pull-right">
                <button class="btn btn-primary" ng-click="run()">Run</button>
            </div>
        </div>

        <div class="dirigible-modal modal fade" id="addInstanceModal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title" id="exampleModalLabel">Add Dirigible Instance</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label>Name</label>
                                <input class="form-control" type="text" ng-model="newInstanceName">
                            </div>
                            <div class="form-group">
                                <label>Host</label>
                                <input class="form-control" type="text" ng-model="newInstanceHost">
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" ng-click="addInstance()">Add</button>
                        <button type="button" class="btn" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- jQuery -->
        <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>

        <!-- Bootstrap Core JavaScript -->
        <script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>

        <!-- AngularJS -->
        <script type="text/javascript" src="/webjars/angularjs/angular.min.js"></script>
        <script type="text/javascript" src="/webjars/angularjs/angular-resource.min.js"></script>

        <script type="text/javascript" src="controller.js"></script>

    </body>

</html>
