<div class="dg-contextmenu-overlay dg-hidden">
    <nav class="fd-menu dg-invisible">
        <ul class="fd-menu__list" role="menu">
            <li class="fd-menu__item" role="presentation" ng-repeat-start="menuItem in menuItems track by $index"
                ng-click="!menuItem.isDisabled || $event.stopPropagation()">
                <span ng-if="!menuItem.items" class="fd-menu__link"
                    ng-class="{'true': 'is-disabled'}[menuItem.isDisabled]" role="menuitem"
                    ng-click="menuClick(menuItem.id, menuItem.data, menuItem.isDisabled)" ng-mouseenter="menuHovered()">
                    <span ng-if="hasIcons" class="fd-menu__addon-before">
                        <i ng-if="menuItem.icon" class="{{ menuItem.icon }}" role="presentation"></i>
                    </span>
                    <span class="fd-menu__title">{{ menuItem.label }}</span>
                    <span ng-if="menuItem.shortcut" class="fd-menu__shortcut">{{ menuItem.shortcut }}</span>
                </span>
                <span ng-if="menuItem.items" class="fd-menu__link has-child" aria-expanded="false" aria-haspopup="true"
                    role="menuitem" ng-init="menuId = ('CSM' + $index + menuItem.id | removeSpaces)"
                    ng-mouseenter="showSubmenu(menuId)" ng-click="$event.stopPropagation()"
                    aria-controls="{{ menuId }}">
                    <span ng-if="hasIcons" class="fd-menu__addon-before">
                        <i ng-if="menuItem.icon" class="{{ menuItem.icon }}" role="presentation"></i>
                    </span>
                    <span class="fd-menu__title">{{ menuItem.label }}</span>
                    <span class="fd-menu__addon-after fd-menu__addon-after--submenu"></span>
                </span>
                <ide-contextmenu-submenu ng-if="menuItem.items" id="{{ ('CSM' + $index + menuItem.id | removeSpaces) }}"
                    submenu-index="$index" menu-items="menuItem.items" menu-click="menuClick" has-icons="hasIcons">
                </ide-contextmenu-submenu>
            </li>
            <span ng-if="menuItems[$index + 1].divider" class="fd-menu__separator" ng-repeat-end></span>
        </ul>
    </nav>
</div>
