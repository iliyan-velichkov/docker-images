<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-flex">
        <div class="navbar-header">
            <a class="navbar-brand" href="{{branding.brandUrl}}" target="_blank" rel="noopener noreferrer">
                &nbsp;<i class="fa fa-cloud"></i>&nbsp;&nbsp;&nbsp;&nbsp;{{branding.brand}}
            </a>
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div class="collapse navbar-collapse" id="navbar-collapse">
            <ul id="main-menu" class="nav navbar-nav">
                <li ng-class="{dropdown: !!menu.items}" ng-repeat="menuItem in menu">
                    <a ng-hide="menuItem.items" href="{{menuItem.link}}" ng-click="menuClick(item)"
                        target="{{menuItem.newTab ? '_blank' : '_self'}}">{{ menuItem.name }}</a>
                    <a ng-show="menuItem.items" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                        aria-haspopup="true" aria-expanded="false">{{ menuItem.name }}</a>
                    <ul class="dropdown-menu">
                        <li ng-show="item.items" ng-repeat="item in menuItem.items" class="dropdown-submenu">
                            <a ng-hide="item.items" href="{{item.link}}" ng-click="menuClick(item)"
                                target="{{item.newTab ? '_blank' : '_self'}}">{{ item.name }}</a>
                            <a ng-show="item.items" href="#" class="dropdown-toggle" data-toggle="dropdown"
                                role="button" aria-haspopup="true" aria-expanded="false">{{ item.name }}</a>
                            <ul class="dropdown-menu">
                                <li ng-repeat="subItem in item.items">
                                    <a href="{{subItem.link}}" ng-click="menuClick(item, subItem)"
                                        target="{{subItem.newTab ? '_blank' : '_self'}}">{{ subItem.name }}</a>
                                </li>
                            </ul>
                            <hr style="margin: 5px;" ng-show="item.divider">
                        </li>
                        <li ng-hide="item.items" ng-repeat="item in menuItem.items">
                            <a ng-hide="item.items" href="{{item.link}}" ng-click="menuClick(item)"
                                target="{{item.newTab ? '_blank' : '_self'}}">{{ item.name }}</a>
                            <a ng-show="item.items" href="#" class="dropdown-toggle" data-toggle="dropdown"
                                role="button" aria-haspopup="true" aria-expanded="false">{{ item.name }}</a>
                            <ul class="dropdown-menu">
                                <li ng-repeat="subItem in item.items">
                                    <a href="{{subItem.link}}" ng-click="menuClick(item, subItem)"
                                        target="{{subItem.newTab ? '_blank' : '_self'}}">{{ subItem.name }}</a>
                                </li>
                            </ul>
                            <hr style="margin: 5px;" ng-show="item.divider">
                        </li>
                    </ul>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Themes <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li ng-repeat="next in themes"><a href="#" data-theme="{{next.id}}" class="theme-link"
                                ng-click="selectTheme(next.id)">{{next.name}}</a></li>
                        <hr style="margin: 5px;">
                        <li><a href="#" class="theme-link" ng-click="resetTheme()">Reset</a></li>
                    </ul>
                </li>
                <li class="hidden-xs">
                    <a href=""><span class="fa fa-user user"></span> <span class="user"
                            ng-bind="user.name"></span>&nbsp;</a>
                </li>
                <li class="hidden-xs">
                    <a href="/logout"><span class="fa fa-power-off"></span></a>
                </li>
            </ul>
        </div>
    </div>
</nav>
